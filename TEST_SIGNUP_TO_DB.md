# íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸ â†’ DB ë°ì´í„° í™•ì¸ ê°€ì´ë“œ

ì§ì ‘ íšŒì›ê°€ì…ì„ í…ŒìŠ¤íŠ¸í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ì— ë°ì´í„°ê°€ ì •ìƒì ìœ¼ë¡œ ì €ì¥ë˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ì™„ë²½ ê°€ì´ë“œì…ë‹ˆë‹¤.

---

## ğŸ¯ ëª©í‘œ

1. Postmanìœ¼ë¡œ íšŒì›ê°€ì… API í˜¸ì¶œ
2. ì„œë²„ ì½˜ì†”ì—ì„œ ì¸ì¦ ì½”ë“œ í™•ì¸
3. íšŒì›ê°€ì… ì™„ë£Œ
4. ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‹¤ì œ ì €ì¥ëœ ë°ì´í„° í™•ì¸

---

## ğŸ“‹ ì‚¬ì „ ì¤€ë¹„

### 1. ì„œë²„ ì‹¤í–‰

```bash
# í„°ë¯¸ë„ ì—´ê¸° (í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ)
cd D:\pythonProject\dba-portal-auth

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

**ì„œë²„ ì‹¤í–‰ í™•ì¸:**
```
Server is running on http://localhost:3002
âœ… Connected to database
```

**ì¤‘ìš”:** ì´ í„°ë¯¸ë„ ì°½ì€ ê³„ì† ì—´ì–´ë‘ì„¸ìš”! (ì¸ì¦ ì½”ë“œ í™•ì¸ìš©)

---

### 2. Postman ì¤€ë¹„

- Postman ì‹¤í–‰
- Environment ì„¤ì • (ì„ íƒì‚¬í•­)

---

## ğŸš€ Step-by-Step í…ŒìŠ¤íŠ¸

### Step 1: SMS ì¸ì¦ ì½”ë“œ ë°œì†¡ ğŸ“±

#### Postman ì„¤ì •

**Method:** `POST`
**URL:** `http://localhost:3002/auth/send-verification`

**Headers:**
```
Content-Type: application/json
```

**Body (raw â†’ JSON):**
```json
{
  "phone": "010-1234-5678"
}
```

#### Send í´ë¦­!

**ì˜ˆìƒ ì‘ë‹µ:**
```json
{
  "success": true,
  "data": null,
  "message": "ì¸ì¦ ì½”ë“œê°€ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

#### ì„œë²„ ì½˜ì†” í™•ì¸! ğŸ”

í„°ë¯¸ë„ë¡œ ëŒì•„ê°€ì„œ ë‹¤ìŒê³¼ ê°™ì€ ë©”ì‹œì§€ í™•ì¸:

```bash
[SMS] Would send to 010-1234-5678: ì¸ì¦ì½”ë“œ: 123456
```

**ì´ ìˆ«ì(123456)ë¥¼ ë³µì‚¬í•˜ì„¸ìš”!** â† ì´ê²Œ ì¸ì¦ ì½”ë“œì…ë‹ˆë‹¤.

---

### Step 2: ì „í™”ë²ˆí˜¸ ì¸ì¦ âœ…

#### Postman ì„¤ì •

**Method:** `POST`
**URL:** `http://localhost:3002/auth/verify-phone`

**Headers:**
```
Content-Type: application/json
```

**Body (raw â†’ JSON):**
```json
{
  "phone": "010-1234-5678",
  "verificationCode": "123456"
}
```

**ì¤‘ìš”:** `verificationCode`ì— ì„œë²„ ì½˜ì†”ì—ì„œ ë³µì‚¬í•œ ì‹¤ì œ ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”!

#### Send í´ë¦­!

**ì˜ˆìƒ ì‘ë‹µ:**
```json
{
  "success": true,
  "data": {
    "verified": true
  },
  "message": "ì „í™”ë²ˆí˜¸ ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

---

### Step 3: íšŒì›ê°€ì… ì™„ë£Œ (ì†Œì…œ ë¡œê·¸ì¸ ì—°ë™) ğŸ‰

#### Postman ì„¤ì •

**Method:** `POST`
**URL:** `http://localhost:3002/auth/complete-social-login`

**Headers:**
```
Content-Type: application/json
```

**Body (raw â†’ JSON):**
```json
{
  "phone": "010-1234-5678",
  "verificationCode": "123456",
  "socialProfile": {
    "provider": "kakao",
    "providerId": "TEST_USER_001",
    "email": "testuser@kakao.com",
    "name": "í…ŒìŠ¤íŠ¸ìœ ì €",
    "profileImage": "https://example.com/profile.jpg"
  }
}
```

**í•„ë“œ ì„¤ëª…:**
- `phone`: ì¸ì¦í•œ ì „í™”ë²ˆí˜¸ (ë™ì¼í•˜ê²Œ)
- `verificationCode`: ì„œë²„ ì½˜ì†”ì˜ ì¸ì¦ ì½”ë“œ (ë™ì¼í•˜ê²Œ)
- `socialProfile.provider`: `"kakao"` ë˜ëŠ” `"google"`
- `socialProfile.providerId`: ì„ì˜ì˜ ê³ ìœ  ID (ì˜ˆ: `"TEST_USER_001"`)
- `socialProfile.email`: ì´ë©”ì¼ ì£¼ì†Œ
- `socialProfile.name`: ì‚¬ìš©ì ì´ë¦„
- `socialProfile.profileImage`: í”„ë¡œí•„ ì´ë¯¸ì§€ URL (ì„ íƒ)

#### Send í´ë¦­!

**ì˜ˆìƒ ì‘ë‹µ:**
```json
{
  "success": true,
  "data": {
    "user": {
      "id": "cm3k8x1y20000pq9d7e8f5g6h",
      "phone": "010-1234-5678",
      "name": null,
      "email": null,
      "profileImage": null,
      "isActive": true,
      "createdAt": "2025-10-16T04:30:15.234Z",
      "updatedAt": "2025-10-16T04:30:15.234Z"
    },
    "tokens": {
      "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
      "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
    },
    "isNewUser": false
  },
  "message": "ë¡œê·¸ì¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."
}
```

**âœ… íšŒì›ê°€ì… ì„±ê³µ!**

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸

ì´ì œ DBì— ì‹¤ì œë¡œ ë°ì´í„°ê°€ ë“¤ì–´ê°”ëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤!

### ë°©ë²• 1: Prisma Studio ì‚¬ìš© (ì¶”ì²œ! ğŸ‘)

#### ìƒˆ í„°ë¯¸ë„ ì°½ ì—´ê¸°

```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd D:\pythonProject\dba-portal-auth

# Prisma Studio ì‹¤í–‰
npx prisma studio
```

**ìë™ìœ¼ë¡œ ë¸Œë¼ìš°ì €ê°€ ì—´ë¦½ë‹ˆë‹¤!**
ì£¼ì†Œ: `http://localhost:5555`

#### Prisma Studioì—ì„œ í™•ì¸

##### 1. **User** í…Œì´ë¸” í´ë¦­

ë‹¤ìŒê³¼ ê°™ì€ ë°ì´í„°ê°€ ë³´ì—¬ì•¼ í•©ë‹ˆë‹¤:

| id | phone | name | email | profileImage | isActive | createdAt | updatedAt |
|----|-------|------|-------|--------------|----------|-----------|-----------|
| cm3k8x1y2... | 010-1234-5678 | null | null | null | true | 2025-10-16... | 2025-10-16... |

**í™•ì¸ í¬ì¸íŠ¸:**
- âœ… `phone`: 010-1234-5678
- âœ… `isActive`: true
- âœ… `createdAt`: ë°©ê¸ˆ ì‹œê°„

##### 2. **SocialAccount** í…Œì´ë¸” í´ë¦­

| id | userId | provider | providerId | email | name | profileImage |
|----|--------|----------|------------|-------|------|--------------|
| cm3k8x1... | cm3k8x1y2... | kakao | TEST_USER_001 | testuser@kakao.com | í…ŒìŠ¤íŠ¸ìœ ì € | https://... |

**í™•ì¸ í¬ì¸íŠ¸:**
- âœ… `provider`: kakao
- âœ… `providerId`: TEST_USER_001
- âœ… `email`: testuser@kakao.com
- âœ… `name`: í…ŒìŠ¤íŠ¸ìœ ì €
- âœ… `userId`ê°€ User í…Œì´ë¸”ì˜ idì™€ ì¼ì¹˜

##### 3. **PhoneVerification** í…Œì´ë¸” í´ë¦­

| id | userId | phone | verificationCode | isVerified | expiresAt | createdAt |
|----|--------|-------|------------------|------------|-----------|-----------|
| cm3k8... | cm3k8x1y2... | 010-1234-5678 | 123456 | true | 2025-10-16... | 2025-10-16... |

**í™•ì¸ í¬ì¸íŠ¸:**
- âœ… `phone`: 010-1234-5678
- âœ… `verificationCode`: 123456
- âœ… `isVerified`: true

##### 4. **JwtToken** í…Œì´ë¸” í´ë¦­

| id | userId | tokenType | token | isRevoked | expiresAt | createdAt |
|----|--------|-----------|-------|-----------|-----------|-----------|
| cm3k8... | cm3k8x1y2... | access | eyJhbG... | false | 2025-10-16... | 2025-10-16... |
| cm3k9... | cm3k8x1y2... | refresh | eyJhbG... | false | 2025-10-23... | 2025-10-16... |

**í™•ì¸ í¬ì¸íŠ¸:**
- âœ… 2ê°œì˜ í† í° ìƒì„± (access, refresh)
- âœ… `isRevoked`: false
- âœ… Access Token ë§Œë£Œ ì‹œê°„: 15ë¶„ í›„
- âœ… Refresh Token ë§Œë£Œ ì‹œê°„: 7ì¼ í›„

---

### ë°©ë²• 2: MySQL í´ë¼ì´ì–¸íŠ¸ ì‚¬ìš©

#### MySQL Workbench / DBeaver / TablePlus ë“±

**ì—°ê²° ì •ë³´:**
```
Host: (RDS ì—”ë“œí¬ì¸íŠ¸ ë˜ëŠ” localhost)
Port: 3306
Username: (DATABASE_URLì˜ username)
Password: (DATABASE_URLì˜ password)
Database: dba_portal_auth
```

#### SQL ì¿¼ë¦¬ë¡œ í™•ì¸

##### 1. User ì¡°íšŒ

```sql
SELECT * FROM users
WHERE phone = '010-1234-5678'
ORDER BY createdAt DESC
LIMIT 1;
```

**ê²°ê³¼:**
```
+---------------------------+----------------+------+-------+--------------+----------+---------------------+---------------------+
| id                        | phone          | name | email | profileImage | isActive | createdAt           | updatedAt           |
+---------------------------+----------------+------+-------+--------------+----------+---------------------+---------------------+
| cm3k8x1y20000pq9d7e8f5g6h | 010-1234-5678  | NULL | NULL  | NULL         | 1        | 2025-10-16 04:30:15 | 2025-10-16 04:30:15 |
+---------------------------+----------------+------+-------+--------------+----------+---------------------+---------------------+
```

##### 2. SocialAccount ì¡°íšŒ

```sql
SELECT sa.*
FROM social_accounts sa
JOIN users u ON sa.userId = u.id
WHERE u.phone = '010-1234-5678'
ORDER BY sa.createdAt DESC;
```

**ê²°ê³¼:**
```
+---------------------------+---------------------------+----------+---------------+---------------------+--------------+------------------+
| id                        | userId                    | provider | providerId    | email               | name         | profileImage     |
+---------------------------+---------------------------+----------+---------------+---------------------+--------------+------------------+
| cm3k8x1y20001pq9d7e8f5g6i | cm3k8x1y20000pq9d7e8f5g6h | kakao    | TEST_USER_001 | testuser@kakao.com  | í…ŒìŠ¤íŠ¸ìœ ì €   | https://...      |
+---------------------------+---------------------------+----------+---------------+---------------------+--------------+------------------+
```

##### 3. PhoneVerification ì¡°íšŒ

```sql
SELECT * FROM phone_verifications
WHERE phone = '010-1234-5678'
ORDER BY createdAt DESC
LIMIT 1;
```

##### 4. JwtToken ì¡°íšŒ

```sql
SELECT id, userId, tokenType, isRevoked, expiresAt, createdAt
FROM jwt_tokens
WHERE userId = 'cm3k8x1y20000pq9d7e8f5g6h'
ORDER BY createdAt DESC;
```

##### 5. ì „ì²´ ê´€ê³„ í™•ì¸ (JOIN)

```sql
SELECT
    u.id AS user_id,
    u.phone,
    u.isActive,
    sa.provider,
    sa.providerId,
    sa.email AS social_email,
    sa.name AS social_name,
    COUNT(DISTINCT jt.id) AS token_count
FROM users u
LEFT JOIN social_accounts sa ON u.id = sa.userId
LEFT JOIN jwt_tokens jt ON u.id = jt.userId AND jt.isRevoked = 0
WHERE u.phone = '010-1234-5678'
GROUP BY u.id, u.phone, u.isActive, sa.provider, sa.providerId, sa.email, sa.name;
```

**ê²°ê³¼:**
```
+---------------------------+----------------+----------+----------+---------------+---------------------+--------------+-------------+
| user_id                   | phone          | isActive | provider | providerId    | social_email        | social_name  | token_count |
+---------------------------+----------------+----------+----------+---------------+---------------------+--------------+-------------+
| cm3k8x1y20000pq9d7e8f5g6h | 010-1234-5678  | 1        | kakao    | TEST_USER_001 | testuser@kakao.com  | í…ŒìŠ¤íŠ¸ìœ ì €   | 2           |
+---------------------------+----------------+----------+----------+---------------+---------------------+--------------+-------------+
```

---

### ë°©ë²• 3: APIë¡œ í™•ì¸

íšŒì›ê°€ì… í›„ ë°›ì€ `accessToken`ì„ ì‚¬ìš©í•˜ì—¬ ë‚´ ì •ë³´ ì¡°íšŒ:

#### Postman ì„¤ì •

**Method:** `GET`
**URL:** `http://localhost:3002/auth/me`

**Headers:**
```
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: application/json
```

**ì¤‘ìš”:** `Bearer` ë’¤ì— Step 3ì—ì„œ ë°›ì€ `accessToken` ë¶™ì—¬ë„£ê¸°

#### Send í´ë¦­!

**ì‘ë‹µ:**
```json
{
  "success": true,
  "data": {
    "id": "cm3k8x1y20000pq9d7e8f5g6h",
    "phone": "010-1234-5678",
    "name": null,
    "email": null,
    "profileImage": null,
    "isActive": true,
    "createdAt": "2025-10-16T04:30:15.234Z",
    "updatedAt": "2025-10-16T04:30:15.234Z",
    "socialAccounts": [
      {
        "provider": "kakao",
        "email": "testuser@kakao.com",
        "name": "í…ŒìŠ¤íŠ¸ìœ ì €",
        "profileImage": "https://example.com/profile.jpg"
      }
    ]
  },
  "message": "ì‚¬ìš©ì ì •ë³´ë¥¼ ì¡°íšŒí–ˆìŠµë‹ˆë‹¤."
}
```

**âœ… DB ë°ì´í„° í™•ì¸ ì™„ë£Œ!**

---

## ğŸ§ª ì¶”ê°€ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ë‹¤ë¥¸ ì „í™”ë²ˆí˜¸ë¡œ íšŒì›ê°€ì…

```json
{
  "phone": "010-9999-8888",
  "verificationCode": "(ì„œë²„ ì½˜ì†” í™•ì¸)",
  "socialProfile": {
    "provider": "google",
    "providerId": "TEST_USER_002",
    "email": "testuser2@gmail.com",
    "name": "í™ê¸¸ë™",
    "profileImage": null
  }
}
```

Prisma Studioì—ì„œ users í…Œì´ë¸”ì— ìƒˆë¡œìš´ í–‰ì´ ì¶”ê°€ë˜ëŠ”ì§€ í™•ì¸!

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: ê°™ì€ ì „í™”ë²ˆí˜¸ì— ë‹¤ë¥¸ ì†Œì…œ ê³„ì • ì—°ë™

1. ì´ë¯¸ ê°€ì…í•œ ì „í™”ë²ˆí˜¸ë¡œ ì¸ì¦ (`010-1234-5678`)
2. ë‹¤ë¥¸ providerë¡œ íšŒì›ê°€ì… ì‹œë„:

```json
{
  "phone": "010-1234-5678",
  "verificationCode": "(ì„œë²„ ì½˜ì†” í™•ì¸)",
  "socialProfile": {
    "provider": "google",
    "providerId": "TEST_USER_003",
    "email": "testuser@gmail.com",
    "name": "í…ŒìŠ¤íŠ¸ìœ ì €",
    "profileImage": null
  }
}
```

**ì˜ˆìƒ ê²°ê³¼:**
- users í…Œì´ë¸”: ìƒˆë¡œìš´ í–‰ì´ ìƒê¸°ì§€ ì•ŠìŒ (ê¸°ì¡´ ì‚¬ìš©ì)
- social_accounts í…Œì´ë¸”: ìƒˆë¡œìš´ í–‰ì´ ì¶”ê°€ë¨ (Google ê³„ì • ì—°ë™)

Prisma Studioì—ì„œ í™•ì¸:
- **User**: 1ê°œ (ë³€í™” ì—†ìŒ)
- **SocialAccount**: 2ê°œ (kakao, google)

---

## ğŸ“Š ë°ì´í„° êµ¬ì¡° ì´í•´í•˜ê¸°

### ERD (Entity Relationship Diagram)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     User        â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ id (PK)         â”‚â—„â”€â”€â”
â”‚ phone           â”‚   â”‚
â”‚ name            â”‚   â”‚
â”‚ email           â”‚   â”‚
â”‚ profileImage    â”‚   â”‚
â”‚ isActive        â”‚   â”‚
â”‚ createdAt       â”‚   â”‚
â”‚ updatedAt       â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                            â”‚                 â”‚                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SocialAccount    â”‚  â”‚ PhoneVerification   â”‚  â”‚ JwtToken       â”‚  â”‚ ...             â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚                 â”‚
â”‚ id (PK)          â”‚  â”‚ id (PK)             â”‚  â”‚ id (PK)        â”‚  â”‚                 â”‚
â”‚ userId (FK)      â”‚  â”‚ userId (FK)         â”‚  â”‚ userId (FK)    â”‚  â”‚                 â”‚
â”‚ provider         â”‚  â”‚ phone               â”‚  â”‚ tokenType      â”‚  â”‚                 â”‚
â”‚ providerId       â”‚  â”‚ verificationCode    â”‚  â”‚ token          â”‚  â”‚                 â”‚
â”‚ email            â”‚  â”‚ isVerified          â”‚  â”‚ isRevoked      â”‚  â”‚                 â”‚
â”‚ name             â”‚  â”‚ expiresAt           â”‚  â”‚ expiresAt      â”‚  â”‚                 â”‚
â”‚ profileImage     â”‚  â”‚ createdAt           â”‚  â”‚ createdAt      â”‚  â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° ê´€ê³„

- **User** â†” **SocialAccount**: 1:N (í•œ ì‚¬ìš©ìê°€ ì—¬ëŸ¬ ì†Œì…œ ê³„ì • ì—°ë™ ê°€ëŠ¥)
- **User** â†” **PhoneVerification**: 1:N (í•œ ì‚¬ìš©ìê°€ ì—¬ëŸ¬ ë²ˆ ì¸ì¦ ì‹œë„ ê°€ëŠ¥)
- **User** â†” **JwtToken**: 1:N (í•œ ì‚¬ìš©ìê°€ ì—¬ëŸ¬ í† í° ë³´ìœ  ê°€ëŠ¥)

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

íšŒì›ê°€ì… ì™„ë£Œ í›„ í™•ì¸í•  ê²ƒ:

- [ ] **users** í…Œì´ë¸”ì— ìƒˆ í–‰ ì¶”ê°€
  - [ ] phone í•„ë“œ ì •í™•
  - [ ] isActive = true
  - [ ] createdAt ì‹œê°„ ì •í™•

- [ ] **social_accounts** í…Œì´ë¸”ì— ìƒˆ í–‰ ì¶”ê°€
  - [ ] provider ì •í™• (kakao/google)
  - [ ] providerId ì •í™•
  - [ ] email, name ì •í™•
  - [ ] userIdê°€ users.idì™€ ì¼ì¹˜

- [ ] **phone_verifications** í…Œì´ë¸”ì— ì¸ì¦ ì´ë ¥
  - [ ] phone ì¼ì¹˜
  - [ ] isVerified = true
  - [ ] verificationCode ì¼ì¹˜

- [ ] **jwt_tokens** í…Œì´ë¸”ì— í† í° 2ê°œ
  - [ ] access token (ë§Œë£Œ: 15ë¶„)
  - [ ] refresh token (ë§Œë£Œ: 7ì¼)
  - [ ] isRevoked = false
  - [ ] userId ì¼ì¹˜

---

## ğŸ¯ ì„±ê³µ ê¸°ì¤€

ë‹¤ìŒ ì¡°ê±´ì„ ëª¨ë‘ ë§Œì¡±í•˜ë©´ ì„±ê³µì…ë‹ˆë‹¤:

âœ… Postmanì—ì„œ íšŒì›ê°€ì… API ì‘ë‹µ ì„±ê³µ (200 OK)
âœ… accessToken, refreshToken ë°œê¸‰
âœ… Prisma Studioì—ì„œ 4ê°œ í…Œì´ë¸” ëª¨ë‘ ë°ì´í„° í™•ì¸
âœ… userIdê°€ ëª¨ë“  í…Œì´ë¸”ì—ì„œ ì¼ê´€ì„± ìˆê²Œ ì—°ê²°
âœ… GET /auth/me APIë¡œ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ ì„±ê³µ

---

## ğŸš¨ ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: "ì¸ì¦ ì½”ë“œê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤"

**ì›ì¸:**
- ì„œë²„ ì½˜ì†”ì˜ ì½”ë“œì™€ ë‹¤ë¥¸ ì½”ë“œ ì…ë ¥
- 5ë¶„ ì´ìƒ ê²½ê³¼í•˜ì—¬ ì½”ë“œ ë§Œë£Œ

**í•´ê²°:**
1. ì„œë²„ ì½˜ì†”ì—ì„œ ì •í™•í•œ 6ìë¦¬ ìˆ«ì í™•ì¸
2. ë³µì‚¬-ë¶™ì—¬ë„£ê¸°ë¡œ ì •í™•íˆ ì…ë ¥
3. ë§Œë£Œëœ ê²½ìš° Step 1ë¶€í„° ë‹¤ì‹œ ì‹œì‘

---

### ë¬¸ì œ 2: Prisma Studioì—ì„œ ë°ì´í„°ê°€ ì•ˆ ë³´ì„

**ì›ì¸:**
- ìºì‹œ ë¬¸ì œ
- ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°

**í•´ê²°:**
1. Prisma Studio ìƒˆë¡œê³ ì¹¨ (Ctrl+R)
2. `.env` íŒŒì¼ì˜ `DATABASE_URL` í™•ì¸
3. ì„œë²„ ë¡œê·¸ì—ì„œ "Connected to database" í™•ì¸

---

### ë¬¸ì œ 3: "ìœ íš¨í•˜ì§€ ì•Šì€ ì „í™”ë²ˆí˜¸ í˜•ì‹ì…ë‹ˆë‹¤"

**ì›ì¸:**
- í•˜ì´í”ˆ(-) ì—†ì´ ì…ë ¥
- ì˜ëª»ëœ í˜•ì‹

**í•´ê²°:**
ì˜¬ë°”ë¥¸ í˜•ì‹: `010-1234-5678` (í•˜ì´í”ˆ í¬í•¨ í•„ìˆ˜!)

---

## ğŸ“¸ ìŠ¤í¬ë¦°ìƒ· ê°€ì´ë“œ

### Prisma Studio í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Prisma Studio                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Models:                                         â”‚
â”‚   â–¼ User                        [ìƒˆë¡œê³ ì¹¨ ğŸ”„]    â”‚
â”‚   â–¼ SocialAccount                               â”‚
â”‚   â–¼ PhoneVerification                           â”‚
â”‚   â–¼ JwtToken                                    â”‚
â”‚                                                 â”‚
â”‚ User í…Œì´ë¸”:                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ id     â”‚ phone        â”‚ name â”‚ email â”‚ ...   â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ cm3k.. â”‚010-1234-5678 â”‚ null â”‚ null  â”‚ ...   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                   ì´ 1ê°œ ë ˆì½”ë“œ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ í•™ìŠµ í¬ì¸íŠ¸

ì´ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ë°°ìš°ëŠ” ê²ƒ:

1. **API í”Œë¡œìš°**: ì¸ì¦ â†’ ê²€ì¦ â†’ íšŒì›ê°€ì… 3ë‹¨ê³„ êµ¬ì¡°
2. **ë°ì´í„°ë² ì´ìŠ¤ ê´€ê³„**: Userë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•œ 1:N ê´€ê³„
3. **JWT í† í°**: Access/Refresh Token ì´ì¤‘ êµ¬ì¡°
4. **ì „í™”ë²ˆí˜¸ ì¸ì¦**: SMS ê¸°ë°˜ ë³¸ì¸ ì¸ì¦ í”„ë¡œì„¸ìŠ¤
5. **ì†Œì…œ ë¡œê·¸ì¸ ì—°ë™**: ë™ì¼ ì „í™”ë²ˆí˜¸ë¡œ ì—¬ëŸ¬ ì†Œì…œ ê³„ì • ì—°ë™ ê°€ëŠ¥

---

## ğŸ“š ë‹¤ìŒ ë‹¨ê³„

íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„:

1. **ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸**: ê¸°ì¡´ ì‚¬ìš©ìë¡œ ë‹¤ì‹œ ë¡œê·¸ì¸
2. **í”„ë¡œí•„ ìˆ˜ì •**: PUT /auth/profile í…ŒìŠ¤íŠ¸
3. **í† í° ê°±ì‹ **: POST /auth/refresh í…ŒìŠ¤íŠ¸
4. **ë¡œê·¸ì•„ì›ƒ**: POST /auth/logout í…ŒìŠ¤íŠ¸
5. **ê³„ì • ë¹„í™œì„±í™”**: DELETE /auth/account í…ŒìŠ¤íŠ¸

---

Happy Testing! ğŸš€

ì´ì œ ì§ì ‘ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!
